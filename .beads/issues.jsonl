{"id":"sheet-scanner-0fi","title":"Build search/browse with filtering UI","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T11:40:18.017679+01:00","updated_at":"2025-12-11T23:09:39.48469+01:00","closed_at":"2025-12-11T23:09:39.484707+01:00"}
{"id":"sheet-scanner-0t5","title":"Critical: Camera controller declared as 'late final CameraController?' violates Dart semantics","description":"In lib/features/ocr/presentation/pages/scan_camera_page.dart:27, _cameraController is declared as:\nlate final CameraController? _cameraController;\n\nThis is semantically incorrect:\n- 'late final' means it MUST be assigned before use and cannot be null\n- '?' makes it nullable\n- But if cameras are empty (line 52-57), the variable is never assigned, violating the late contract\n\nImpact: Potential runtime errors when accessing _cameraController, undefined behavior.\n\nFix: Remove 'final' keyword: late CameraController? _cameraController;\nOr properly initialize in all paths.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:50:28.03811+01:00","updated_at":"2025-12-14T09:57:40.98196+01:00","closed_at":"2025-12-14T09:57:40.98196+01:00"}
{"id":"sheet-scanner-1qd","title":"Create advanced search/filter modal","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T11:40:18.106911+01:00","updated_at":"2025-12-11T23:17:24.568234+01:00","closed_at":"2025-12-11T23:17:24.568234+01:00"}
{"id":"sheet-scanner-1qs","title":"P2: Image.asset used for file:// paths in browse grid","description":"BrowsePage grid card (browse_page.dart:436-439) uses Image.asset() to load sheet music images, but imageUrls contain file paths not asset paths.\n\nImage.asset() is for bundled assets (images shipped with app).\nFor user photos/files, should use Image.file(File(path)) or Image.network() for URLs.\n\nThis causes images to never load, user only sees placeholder icon.\n\nFile: lib/features/sheet_music/presentation/pages/browse_page.dart:436-439","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:47.202534+01:00","updated_at":"2025-12-25T14:24:16.951483+01:00","closed_at":"2025-12-25T14:24:16.951483+01:00"}
{"id":"sheet-scanner-24w","title":"Setup get_it dependency injection","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T11:40:09.104646+01:00","updated_at":"2025-12-06T23:18:20.486858+01:00","closed_at":"2025-12-06T23:18:20.486858+01:00"}
{"id":"sheet-scanner-25b","title":"No image optimization or caching strategy for sheet music covers","description":"The app captures and stores high-resolution images from the camera but has no optimization or caching strategy:\n\nIn scan_camera_page.dart:63, camera is initialized with ResolutionPreset.veryHigh, which can produce very large image files (5-10MB each).\n\nIssues:\n1. No image compression before storage\n2. No thumbnail generation for list views\n3. No image caching (images loaded from disk every time)\n4. Large images slow down list scrolling and increase storage usage\n\nImpact: \n- Poor performance in library list view\n- Excessive storage usage\n- Slow app startup\n- Battery drain\n\nFix:\n1. Compress images to reasonable size (e.g., 1920x1080 at 85% quality)\n2. Generate thumbnails for list views\n3. Implement image caching strategy\n4. Consider using flutter_cache_manager","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:52:36.137401+01:00","updated_at":"2025-12-25T14:26:56.143077+01:00","closed_at":"2025-12-25T14:26:56.143077+01:00"}
{"id":"sheet-scanner-2tm","title":"Build SearchCubit state management","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T11:40:18.152362+01:00","updated_at":"2025-12-11T23:05:12.457719+01:00","closed_at":"2025-12-11T23:05:12.457724+01:00"}
{"id":"sheet-scanner-2x8","title":"Failure.toString() exposes technical details instead of user-friendly messages","description":"In lib/core/error/failures.dart:18-20, Failure.toString() returns:\n'Failure: $message${code != null ? ' (code: $code)' : ''}'\n\nThis technical format is used directly in UI error displays:\n- lib/features/sheet_music/presentation/pages/home_page.dart:84 shows state.failure.toString()\n- lib/features/sheet_music/presentation/pages/add_sheet_page.dart:71 shows state.failure.toString()\n\nUsers see technical error messages like 'Failure: Database error (code: DB_001)' instead of friendly messages like 'Unable to load your library. Please try again.'\n\nImpact: Poor UX - users see confusing technical errors instead of helpful guidance.\n\nFix: \n1. Add a .userMessage getter to Failure that returns friendly text\n2. Update UI to use failure.userMessage instead of failure.toString()\n3. Keep toString() for logging/debugging","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:06.237711+01:00","updated_at":"2025-12-25T09:11:34.73544+01:00","closed_at":"2025-12-25T09:11:34.73544+01:00"}
{"id":"sheet-scanner-2yi","title":"Create image storage system with path_provider","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T11:40:12.353472+01:00","updated_at":"2025-12-06T23:18:20.547861+01:00","closed_at":"2025-12-06T23:18:20.547861+01:00"}
{"id":"sheet-scanner-3ct","title":"Implement tag management system","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T11:40:18.061407+01:00","updated_at":"2025-12-11T23:17:24.566338+01:00","closed_at":"2025-12-11T23:17:24.566338+01:00"}
{"id":"sheet-scanner-3je","title":"Implement file picker and drag-drop UI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T11:40:15.122596+01:00","updated_at":"2025-12-09T23:50:00.242932+01:00","closed_at":"2025-12-09T23:50:00.242932+01:00"}
{"id":"sheet-scanner-3nc","title":"Build settings/configuration screen","description":"","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-06T11:40:21.303538+01:00","updated_at":"2025-12-11T23:17:24.567897+01:00","closed_at":"2025-12-11T23:17:24.567897+01:00"}
{"id":"sheet-scanner-43y","title":"P1: Unnecessary navigation stack growth in OCR flow","description":"ScanCameraPage navigates to '/ocr-review' (line 217) without popping itself first. This creates navigation stack: AddSheetPage -\u003e ScanCameraPage -\u003e OCRReviewPage.\n\nWhen user saves in OCR review and pops, they go back to ScanCameraPage (which shows camera preview), not AddSheetPage.\n\nShould either:\n1. Pop scan page before pushing review: context.go('/ocr-review'), OR\n2. Pop scan page when navigating: context.pop(); context.push('/ocr-review')\n\nThis compounds the navigation bug in sheet-scanner-XXX (OCR-to-add flow).\n\nFile: lib/features/ocr/presentation/pages/scan_camera_page.dart:217","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:49:50.120926+01:00","updated_at":"2025-12-14T09:56:32.145802+01:00","closed_at":"2025-12-14T09:56:32.145802+01:00"}
{"id":"sheet-scanner-44q","title":"P2: No batch/transaction support for bulk operations","description":"BulkOperationsCubit exists but datasource has no batch delete method. Each delete is a separate transaction.\n\nDeleting 100 sheets = 100 separate database transactions, very slow.\n\nShould add:\n- deleteBatch(List\u003cint\u003e ids) with single transaction\n- updateBatch() for bulk updates\n- Use Drift's batch() API for atomic multi-row operations\n\nFile: lib/features/sheet_music/data/datasources/sheet_music_local_datasource.dart","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:52:29.477273+01:00","updated_at":"2025-12-25T14:24:21.943355+01:00","closed_at":"2025-12-25T14:24:21.943355+01:00"}
{"id":"sheet-scanner-4gj","title":"BLOCKER: Fix compilation errors in dictation feature","description":"speech_recognition_service.dart has 18 compilation errors: undefined getters (isInitialized), missing type imports, incorrect Stream/freezed usage. Must fix before merging or use git revert to remove incomplete code. Affects: lib/core/services/speech_recognition_service.dart, lib/features/sheet_music/data/repositories/speech_recognition_repository_impl.dart, lib/features/sheet_music/presentation/cubit/dictation_state.dart","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T10:12:53.756551+01:00","updated_at":"2025-12-14T10:26:20.529486+01:00","closed_at":"2025-12-14T10:26:20.529486+01:00"}
{"id":"sheet-scanner-50w","title":"CRITICAL: Broken OCR scan-to-add navigation flow","description":"When user taps 'Scan Sheet Music' button in AddSheetPage (line 323), they navigate to /scan, then to /ocr-review after OCR completes. However, when they save in OCRReviewPage, Navigator.pop() only pops one level back to scan page, not to AddSheetPage. Additionally, OCR results are never passed back to AddSheetPage form, making the entire scan flow useless for adding sheets.\n\nFiles affected:\n- lib/features/sheet_music/presentation/pages/add_sheet_page.dart:323\n- lib/features/ocr/presentation/pages/scan_camera_page.dart:217\n- lib/features/sheet_music/presentation/pages/ocr_review_page.dart:142\n\nExpected: After saving in OCR review, user should return to AddSheetPage with form pre-populated from OCR results.\nActual: User returns to scan camera page with no data transfer.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:49:49.523692+01:00","updated_at":"2025-12-13T11:33:04.4242+01:00","closed_at":"2025-12-13T11:33:04.4242+01:00"}
{"id":"sheet-scanner-59j","title":"P2: Redundant nullable late initialization in ScanCameraPage","description":"In ScanCameraPage line 27, the _cameraController is declared as:\n\nlate final CameraController? _cameraController;\n\nThis is redundant and confusing:\n- If it's 'late', it will be initialized before use\n- If it's nullable (?), it can be null\n- Using both is contradictory - either make it non-null late, or nullable without late\n\nCurrent code also has initialization issues:\n- Line 61-65: Creates controller and assigns to _cameraController  \n- But variable is declared 'late final' so it expects initialization at declaration\n- This could cause 'LateInitializationError' if widget is disposed during initialization\n\nRecommendation: Make it nullable without late:\nCameraController? _cameraController;\n\nFile: lib/features/ocr/presentation/pages/scan_camera_page.dart:27\nImpact: Code clarity, potential initialization errors","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:50:49.686441+01:00","updated_at":"2025-12-25T09:10:20.486918+01:00","closed_at":"2025-12-25T09:10:20.486918+01:00"}
{"id":"sheet-scanner-5dq","title":"Fix test compilation errors in voice_input_button_test.dart","description":"Adding MockTail import and removing unused mock class","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:55:43.583305+01:00","updated_at":"2025-12-25T18:08:19.090074+01:00","closed_at":"2025-12-25T18:08:19.090074+01:00"}
{"id":"sheet-scanner-5uc","title":"P2: No semantic labels for accessibility","description":"Codebase has SemanticWidget helpers (lib/core/accessibility/semantic_widgets.dart) with SemanticButton, SemanticTextField, SemanticCard etc., but they're only used in 1 file (home_page_desktop.dart).\n\nMost of the app uses raw Flutter widgets without semantic labels:\n- IconButtons without tooltips or labels (scan_camera_page.dart, add_sheet_page.dart, browse_page.dart)\n- Images without descriptions\n- Cards without semantic labels (browse_page.dart:425-500)\n- Form fields using raw TextField instead of SemanticTextField\n\nImpact: 95% of app is inaccessible to screen readers despite having the infrastructure.\n\nRecommendation: Replace raw widgets with SemanticButton, SemanticTextField, SemanticCard throughout the app.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:53:38.392814+01:00","updated_at":"2025-12-25T16:18:24.572651+01:00","closed_at":"2025-12-25T16:18:24.572651+01:00"}
{"id":"sheet-scanner-62k","title":"Phase 3: Desktop Workflow - File picker and desktop UI","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-06T11:40:15.078193+01:00","updated_at":"2025-12-11T23:02:14.750162+01:00","closed_at":"2025-12-11T23:02:14.75017+01:00"}
{"id":"sheet-scanner-6ib","title":"P0: FTS index not maintained on sheet music insert","description":"Critical bug: Full-text search index inconsistency\n\ninsertSheetMusic (sheet_music_local_datasource.dart:55-65) inserts into sheetMusicTable but NOT sheetMusicFtsTable.\ndeleteSheetMusic (line 96-106) deletes from BOTH tables.\n\nThis causes:\n1. New sheets won't appear in search results\n2. FTS index becomes stale\n3. Full-text search effectively broken for new data\n\nSearch will only find sheets that existed before a certain point, missing all newly added sheets.\n\nRelated: Database should use triggers to auto-maintain FTS index, not manual sync in datasource.\n\nFiles:\n- lib/features/sheet_music/data/datasources/sheet_music_local_datasource.dart:55-65,96-106\n- lib/core/database/database.dart (check for FTS triggers)","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:52:29.306272+01:00","updated_at":"2025-12-13T13:09:36.944402+01:00","closed_at":"2025-12-13T13:09:36.944402+01:00"}
{"id":"sheet-scanner-6ir","title":"Phase 4: Search \u0026 Filtering - FTS5, tags, and advanced filters","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T11:40:17.923855+01:00","updated_at":"2025-12-11T23:07:10.190462+01:00","closed_at":"2025-12-11T23:06:22.921698+01:00"}
{"id":"sheet-scanner-6o2","title":"Build backup/export UI screen","description":"","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-06T11:40:21.168662+01:00","updated_at":"2025-12-11T23:17:24.567438+01:00","closed_at":"2025-12-11T23:17:24.567438+01:00"}
{"id":"sheet-scanner-6rl","title":"Dictation Phase 6: Testing, Polish, and Refinement","description":"Write unit tests for SpeechRecognitionService and DictationCubit. Write widget tests for VoiceInputButton. Test error handling, edge cases, and permission flows. Add accessibility labels and keyboard shortcuts. Improve microphone permission UX.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T10:26:57.335425+01:00","updated_at":"2025-12-25T18:10:21.925166+01:00","closed_at":"2025-12-25T18:10:21.925166+01:00"}
{"id":"sheet-scanner-6u5","title":"P2: GridView rebuilds on every search keystroke","description":"BrowsePage (browse_page.dart:164-189) calls browseCubit.search() on every TextField onChanged event without debouncing.\n\nUser typing 'Beethoven' = 9 search operations, each:\n- Triggers BlocBuilder rebuild\n- Filters entire sheet list\n- Rebuilds entire GridView\n- Recreates all grid cards\n\nWith 1000+ sheets, causes laggy typing experience.\n\nShould debounce search input (300-500ms delay) before triggering search.\n\nFile: lib/features/sheet_music/presentation/pages/browse_page.dart:166","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:47.368939+01:00","updated_at":"2025-12-25T14:25:57.717999+01:00","closed_at":"2025-12-25T14:25:57.717999+01:00"}
{"id":"sheet-scanner-6yf","title":"Verify dictation feature integration with UI pages (AddSheetPage, EditSheetPage)","description":"Implementation is complete but need to verify actual integration with sheet music pages. Check if VoiceInputButton and VoiceTranscriptionDisplay are properly wired into AddSheetPage and EditSheetPage for title, composer, and notes fields.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:55:49.909397+01:00","updated_at":"2025-12-25T14:22:53.965545+01:00","closed_at":"2025-12-25T14:22:53.965545+01:00"}
{"id":"sheet-scanner-6zc","title":"Scan flow navigation leaves user stranded multiple levels deep","description":"The scan → OCR review → save flow has navigation issues that strand users:\n\n1. User opens AddSheetPage (modal bottom sheet from HomePage)\n2. Taps 'Scan Sheet Music' button (add_sheet_page.dart:323)\n3. Navigates to /scan with context.push() (line 323)\n4. After OCR, navigates to /ocr-review with context.push() (scan_camera_page.dart:217)\n5. After save, OCRReviewPage calls Navigator.pop() (ocr_review_page.dart:142)\n6. User is back at scan camera page (should be at home)\n\nThe navigation stack becomes: Home → AddSheetPage (modal) → Scan → OCR Review\nAfter save: Home → AddSheetPage (modal) → Scan\n\nImpact: User must navigate back through multiple screens after completing a simple scan workflow.\n\nFix: Use context.go('/') or pop multiple times to return directly to home after successful save.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:51:32.041376+01:00","updated_at":"2025-12-14T10:04:37.507758+01:00","closed_at":"2025-12-14T10:04:37.507758+01:00"}
{"id":"sheet-scanner-7rz","title":"Setup edit existing sheet functionality","description":"","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-06T11:40:21.260796+01:00","updated_at":"2025-12-09T22:06:18.213397+01:00","closed_at":"2025-12-09T22:06:18.213397+01:00"}
{"id":"sheet-scanner-84m","title":"Fix test compilation errors in speech_recognition_repository_impl_test.dart","description":"Adding Duration fallback value registration and fixing async mock issues","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:55:40.619876+01:00","updated_at":"2025-12-25T18:08:20.968434+01:00","closed_at":"2025-12-25T18:08:20.968434+01:00"}
{"id":"sheet-scanner-8h8","title":"Keyboard shortcuts and accessibility (Phase 3)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T00:36:20.221335+01:00","updated_at":"2025-12-10T00:39:01.172342+01:00","closed_at":"2025-12-10T00:39:01.172342+01:00"}
{"id":"sheet-scanner-8py","title":"Implement export functionality (JSON/ZIP/Database)","description":"","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-06T11:40:21.077141+01:00","updated_at":"2025-12-09T23:35:18.454079+01:00","closed_at":"2025-12-09T23:35:18.454079+01:00"}
{"id":"sheet-scanner-8y6","title":"P1: filterByDateRange loads entire database into memory","description":"SearchLocalDataSourceImpl.filterByDateRange (search_local_datasource.dart:68-81) loads ALL sheet music into memory with database.select().get(), then filters in Dart.\n\nWith 10,000+ sheets, this causes:\n- High memory usage\n- Slow performance \n- Potential OutOfMemory on mobile devices\n\nRoot cause: Comment says 'Drift doesn't provide convenient DateTime comparison operators' but Drift DOES support custom expressions for date comparisons.\n\nShould use Drift's CustomExpression for efficient SQL WHERE clause filtering.\n\nFile: lib/features/search/data/datasources/search_local_datasource.dart:68-81","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:52:28.215419+01:00","updated_at":"2025-12-14T10:03:13.553245+01:00","closed_at":"2025-12-14T10:03:13.553245+01:00"}
{"id":"sheet-scanner-98b","title":"P1: Extremely low test coverage (4 tests for 100+ files)","description":"Project has only 4 test files covering ~100+ source files, indicating \u003c5% test coverage.\n\nMissing tests for:\n- All Cubits (home, browse, add_sheet, edit_sheet, ocr_review, search, tag, backup)\n- All UseCases (add, update, delete, search, tags, backup)\n- All Repositories\n- All DataSources (except 1 backup test)\n- Most presentation pages\n- Database layer\n- Error handling paths\n\nCritical paths with ZERO tests:\n- Navigation flows (we found bugs here!)\n- State management (singleton cubit bug would be caught)\n- FTS index maintenance (P0 bug would be caught)\n- Error recovery scenarios\n\nRecommendation: Add tests for at least:\n1. All cubits (state transitions)\n2. Critical use cases (CRUD operations)\n3. Navigation flows (integration tests)\n4. Error paths in datasources","notes":"Added comprehensive test suite for domain layer: 80+ new tests covering core errors, Either type, entities, use cases, and cubits. Test count increased from ~50 to 194 tests. Tests follow AAA pattern with proper mocking and edge case coverage.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T09:53:02.83819+01:00","updated_at":"2025-12-24T22:20:13.540146+01:00","closed_at":"2025-12-24T22:20:13.540162+01:00"}
{"id":"sheet-scanner-9el","title":"P2: Add missing page routes to app_router.dart","description":"Several page files exist in the codebase but are not registered as routes in app_router.dart. They are accessed via imperative navigation (Navigator.push) instead of declarative routing (GoRouter).\n\nMissing routes:\n1. sheet_detail_page.dart - Accessed via Navigator.push from browse/home pages\n2. edit_sheet_page.dart - Accessed via Navigator.push from sheet detail page\n3. advanced_search_page.dart - May not be used anywhere yet\n\nThese should be added to GoRouter configuration with proper parameter handling:\n\nExample:\nGoRoute(\n  path: '/sheet/:id',\n  name: 'sheet-detail',\n  builder: (context, state) {\n    final id = int.parse(state.pathParameters['id']!);\n    return SheetDetailPage(sheetMusicId: id);\n  },\n),\n\nBenefits:\n- Consistent navigation pattern throughout app\n- Deep linking support\n- Better back button handling\n- Easier testing\n\nRelated to: sheet-scanner-tcg (mixed navigation paradigms)\n\nFiles:\n- lib/core/router/app_router.dart\n- lib/features/sheet_music/presentation/pages/sheet_detail_page.dart\n- lib/features/sheet_music/presentation/pages/edit_sheet_page.dart\n- lib/features/search/presentation/pages/advanced_search_page.dart","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:50:59.522287+01:00","updated_at":"2025-12-24T22:16:46.161982+01:00","closed_at":"2025-12-24T22:16:46.161982+01:00"}
{"id":"sheet-scanner-9je","title":"Change Image button in OCR review desktop layout has empty handler","description":"In lib/features/sheet_music/presentation/pages/ocr_review_page.dart:588-594, the 'Change Image' button in desktop layout has an empty onPressed handler: onPressed: isSubmitting ? null : () {}\n\nThis button is visible on desktop but does nothing when clicked.\n\nImpact: Poor UX on desktop - non-functional button.\n\nFix: Either implement image change functionality or remove the button.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:51:29.645198+01:00","updated_at":"2025-12-14T09:58:33.484589+01:00","closed_at":"2025-12-14T09:58:33.484589+01:00"}
{"id":"sheet-scanner-9rj","title":"Test dictation feature on actual device/emulator for real-time behavior","description":"Unit tests pass but feature hasn't been tested on actual iOS/Android devices to verify real-time transcription, confidence scoring, and error handling work correctly with actual speech recognition services.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:55:52.966047+01:00","updated_at":"2025-12-25T18:09:47.626063+01:00","closed_at":"2025-12-25T18:09:47.626088+01:00"}
{"id":"sheet-scanner-9uw","title":"Setup Drift database with FTS5 support","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T11:40:09.018337+01:00","updated_at":"2025-12-06T23:18:20.428209+01:00","closed_at":"2025-12-06T23:18:20.428209+01:00"}
{"id":"sheet-scanner-9wa","title":"Critical: Unsafe type casts in OCR review route cause runtime crashes","description":"In lib/core/router/app_router.dart:42-55, the /ocr-review route uses unsafe type casts without null checks on individual map fields:\n- Line 43: state.extra as Map\u003cString, dynamic\u003e? checks for null map\n- Lines 50-53: Direct casts (extra['imagePath'] as String) without null safety\n\nIf the map is missing expected keys or has wrong types, the app will crash with a type error at runtime.\n\nImpact: App crashes when navigating to OCR review with malformed data.\n\nFix: Add null-safety checks for each field:\nfinal imagePath = extra['imagePath'] as String?;\nif (imagePath == null) return ErrorWidget();\nOr use a typed data class instead of Map\u003cString, dynamic\u003e.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:50:26.865742+01:00","updated_at":"2025-12-13T13:07:11.286656+01:00","closed_at":"2025-12-13T13:07:11.286656+01:00"}
{"id":"sheet-scanner-9xw","title":"Integrate ML Kit for text recognition","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T11:40:12.218208+01:00","updated_at":"2025-12-09T23:05:42.156249+01:00","closed_at":"2025-12-09T23:05:42.156249+01:00"}
{"id":"sheet-scanner-a0j","title":"Dictation Phase 5: UI Components and Widget Integration","description":"Create VoiceInputButton widget with real-time transcription display, recording timer, and visual feedback. Integrate voice input into AddSheetPage and EditSheetPage for title, composer, and notes fields. Handle voice button placement and UX flow.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T10:26:50.680924+01:00","updated_at":"2025-12-14T14:52:29.816345+01:00","closed_at":"2025-12-14T14:52:29.816345+01:00"}
{"id":"sheet-scanner-ant","title":"Add tag text field doesn't clear after adding tag in AddSheetPage","description":"In lib/features/sheet_music/presentation/pages/add_sheet_page.dart:267-296, when a user enters a tag name and clicks 'Add', the tag is added to the list (line 131) but the TextField is not cleared.\n\nThe _addTag method sets _newTag = '' (line 291), but this doesn't clear the TextField because there's no controller for it. The TextField uses onChanged to track _newTag but has no controller to programmatically clear it.\n\nImpact: Poor UX - user must manually clear the field before adding another tag.\n\nFix: Add a TextEditingController for the tag field and call controller.clear() in _addTag().","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:51:30.873893+01:00","updated_at":"2025-12-14T09:57:43.276098+01:00","closed_at":"2025-12-14T09:57:43.276098+01:00"}
{"id":"sheet-scanner-aov","title":"Extremely poor test coverage: 4 test files for 107 source files (3.7%)","description":"The project has only 4 test files covering 107 Dart source files:\n\nTest files:\n- test/features/sheet_music/presentation/pages/add_sheet_page_scan_flow_test.dart\n- test/features/ocr/presentation/pages/scan_camera_page_test.dart\n- test/features/backup/data/datasources/backup_local_datasource_test.dart\n- test/features/backup/domain/usecases/export_database_use_case_test.dart\n\nThis represents ~3.7% test coverage, which is extremely low for a production app.\n\nMissing test coverage:\n- All 12 Cubits (state management logic)\n- All use cases except export_database\n- All repositories\n- All data sources except backup\n- Most UI pages\n- Router configuration\n- Error handling\n- Validation logic\n\nImpact: High risk of regressions, bugs go undetected, difficult to refactor safely.\n\nFix: Add comprehensive test coverage, target 80%+ coverage for business logic.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:52:05.195221+01:00","updated_at":"2025-12-25T18:07:49.554448+01:00","closed_at":"2025-12-25T18:07:49.554448+01:00"}
{"id":"sheet-scanner-are","title":"P1: FilePickerService instantiated directly instead of via DI","description":"AddSheetPage creates FilePickerService directly with 'new FilePickerServiceImpl()' (add_sheet_page.dart:39) instead of using dependency injection.\n\nThis breaks testability and violates clean architecture principles. Service should be injected via constructor or getIt.\n\nSimilar pattern may exist elsewhere in codebase.\n\nFile: lib/features/sheet_music/presentation/pages/add_sheet_page.dart:39","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:50:49.061751+01:00","updated_at":"2025-12-14T10:02:02.425034+01:00","closed_at":"2025-12-14T10:02:02.425034+01:00"}
{"id":"sheet-scanner-awf","title":"Dictation Phase 2-4: Domain Layer, Data Layer, State Management","description":"Phases 2-4 are already implemented in sheet-scanner-x5s (Core Service includes domain/data/state management). This task is closed as those phases are complete.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T10:26:44.152693+01:00","updated_at":"2025-12-14T10:26:46.995165+01:00","closed_at":"2025-12-14T10:26:46.995168+01:00"}
{"id":"sheet-scanner-ayg","title":"No error handling for file picker failures","description":"In lib/features/sheet_music/presentation/pages/add_sheet_page.dart:144-172, the _pickFiles() method has a try-catch but the error handling is minimal:\n\ncatch (e) {\n  if (mounted) {\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(\n        content: Text('Error selecting files: $e'),\n\nThis shows the raw exception message to users, which could be technical and unhelpful. Common file picker errors include:\n- Permission denied\n- File too large\n- Unsupported file type\n- Storage not available\n\nImpact: Poor UX - users see technical errors and don't know how to fix the problem.\n\nFix: Parse common error types and show specific, actionable error messages.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:08.425579+01:00","updated_at":"2025-12-25T09:11:51.95405+01:00","closed_at":"2025-12-25T09:11:51.95405+01:00"}
{"id":"sheet-scanner-b0w","title":"P1: N+1 query problem in getAllTagsWithCount","description":"Database.getAllTagsWithCount (database.dart:114-126) loops through all tags and makes separate query for each to count usage.\n\nWith 100 tags = 101 database queries (1 for tags, 100 for counts).\n\nShould use single JOIN query:\nSELECT t.*, COUNT(st.sheet_music_id) as count\nFROM tags t\nLEFT JOIN sheet_music_tags st ON t.id = st.tag_id  \nGROUP BY t.id\n\nFile: lib/core/database/database.dart:114-126","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:53:26.905186+01:00","updated_at":"2025-12-14T10:03:13.553813+01:00","closed_at":"2025-12-14T10:03:13.553813+01:00"}
{"id":"sheet-scanner-bfw","title":"P2: SearchBarWidget debounce uses Future instead of Timer","description":"SearchBarWidget implements search debouncing using Future.delayed instead of a proper Timer. This can cause issues with cancellation and memory management.\n\nCurrent implementation (lines 22, 38, 45):\nFuture\u003cvoid\u003e? _debounceTimer;  // Should be Timer?\n_debounceTimer?.ignore();       // ignore() doesn't cancel the Future\n_debounceTimer = Future.delayed(widget.debounceDelay, () { ... });\n\nProblems:\n1. Future.ignore() doesn't actually cancel the delayed callback\n2. If user types quickly, multiple callbacks could execute\n3. Memory leak potential from uncancelled futures\n4. Misleading variable name\n\nRecommendation: Use dart:async Timer with timer.cancel()\n\nFile: lib/features/search/presentation/widgets/search_bar.dart:22,38,45\nImpact: Potential race conditions and memory issues","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:50:42.183654+01:00","updated_at":"2025-12-25T09:10:09.354246+01:00","closed_at":"2025-12-25T09:10:09.354246+01:00"}
{"id":"sheet-scanner-bsb","title":"Build OCRScanCubit state management","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T11:40:12.397874+01:00","updated_at":"2025-12-09T23:05:42.245902+01:00","closed_at":"2025-12-09T23:05:42.245902+01:00"}
{"id":"sheet-scanner-c19","title":"Create home/dashboard screen (MVP)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T11:40:15.213192+01:00","updated_at":"2025-12-09T22:00:37.756926+01:00","closed_at":"2025-12-09T22:00:37.756926+01:00"}
{"id":"sheet-scanner-cho","title":"Build add/create sheet music screen","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T22:02:50.176139+01:00","updated_at":"2025-12-09T22:04:36.30731+01:00","closed_at":"2025-12-09T22:04:36.30731+01:00"}
{"id":"sheet-scanner-cos","title":"P2: Mixed navigation APIs (Navigator vs GoRouter)","description":"Codebase mixes Navigator.pop() and context.pop() inconsistently, which can cause navigation bugs in GoRouter apps.\n\nExamples:\n- ocr_review_page.dart:142,244 uses Navigator.pop()  \n- ocr_review_wrapper.dart:32,38 uses context.pop()\n- browse_page.dart:140,142,355,357,404 uses Navigator.pop()\n\nWhen using GoRouter, should consistently use context.pop()/push()/go() instead of Navigator API.\n\nImpact: Inconsistent navigation behavior, potential back stack corruption.\nRecommendation: Standardize on GoRouter API throughout codebase.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:50:48.903784+01:00","updated_at":"2025-12-24T22:16:46.151855+01:00","closed_at":"2025-12-24T22:16:46.151855+01:00"}
{"id":"sheet-scanner-cuh","title":"P1: Confusing navigation stack with modal sheets and GoRouter","description":"HomePage displays AddSheetPage and SheetDetailPage using showModalBottomSheet (lines 105-114, 129-136, 151-160). However, AddSheetPage has a 'Scan Sheet Music' button that uses context.push('/scan'), which creates a confusing navigation stack.\n\nFlow:\n1. User on HomePage\n2. Taps FAB → AddSheetPage shown as modal bottom sheet\n3. User taps 'Scan Sheet Music' → context.push('/scan') pushes scan page\n4. Now the modal sheet is still open underneath the scan page\n5. Back navigation becomes confusing (modal + routes mixed)\n\nProblems:\n- Modal presentation mixed with declarative routing\n- User can't see the modal is still open behind scan page\n- Back button behavior is unpredictable\n- On some platforms, dismissing the scan page might leave the modal orphaned\n\nAdditional issue: Lines 112, 134, 158 use Navigator.pop(context) to close modals, but if context.push() was used inside, Navigator.pop might not work correctly.\n\nSolutions:\n1. Don't show forms in modals - navigate to full pages instead\n2. OR close modal before navigating to scan (but then lose form state)\n3. OR use a multi-step wizard within the modal (no GoRouter navigation)\n\nFiles:\n- lib/features/sheet_music/presentation/pages/home_page.dart:105-160\n- lib/features/sheet_music/presentation/pages/add_sheet_page.dart:323\n\nRelated: sheet-scanner-tcg, sheet-scanner-tja","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:51:36.259705+01:00","updated_at":"2025-12-14T10:04:37.50839+01:00","closed_at":"2025-12-14T10:04:37.50839+01:00"}
{"id":"sheet-scanner-d6f","title":"Phase 2: Mobile OCR - ML Kit integration and scanning workflow","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-06T11:40:12.171709+01:00","updated_at":"2025-12-09T23:48:13.416098+01:00","closed_at":"2025-12-09T23:48:13.416098+01:00"}
{"id":"sheet-scanner-d8g","title":"Database connection not properly initialized or managed","description":"In lib/core/di/injection.dart:57, AppDatabase is registered as a singleton with just:\ngetIt.registerSingleton\u003cAppDatabase\u003e(AppDatabase());\n\nIssues:\n1. No error handling if database initialization fails\n2. No verification that database is ready before use\n3. Comment says 'LazyDatabase will initialize on first use' but there's no explicit initialization\n4. No database migration strategy visible\n5. No cleanup/close on app shutdown\n\nImpact:\n- Potential crashes if database init fails\n- Race conditions on first access\n- Database corruption if not closed properly\n- Difficult to handle database errors\n\nFix:\n1. Add async database initialization\n2. Verify database is ready before registering\n3. Add proper error handling\n4. Implement shutdown hook to close database","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:37.352039+01:00","updated_at":"2025-12-25T09:13:18.586889+01:00","closed_at":"2025-12-25T09:13:18.586889+01:00"}
{"id":"sheet-scanner-dtj","title":"Setup Flutter project structure with Clean Architecture","description":"","notes":"BlackCreek starting Phase 1 foundations","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T11:40:08.921869+01:00","updated_at":"2025-12-09T21:58:42.224212+01:00","closed_at":"2025-12-09T21:58:42.224212+01:00"}
{"id":"sheet-scanner-dty","title":"Implement import functionality with merge/replace modes","description":"","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-06T11:40:21.125126+01:00","updated_at":"2025-12-11T23:17:24.567008+01:00","closed_at":"2025-12-11T23:17:24.567008+01:00"}
{"id":"sheet-scanner-eg7","title":"Integrate FTS5 full-text search","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T11:40:17.969446+01:00","updated_at":"2025-12-11T23:05:12.502149+01:00","closed_at":"2025-12-11T23:05:12.502154+01:00"}
{"id":"sheet-scanner-fc3","title":"Build desktop-specific layouts and navigation","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T11:40:15.168088+01:00","updated_at":"2025-12-09T23:51:08.838689+01:00","closed_at":"2025-12-09T23:51:08.838689+01:00"}
{"id":"sheet-scanner-fy4","title":"No Cubits override close() method to clean up resources","description":"Analysis of all 12 Cubit files shows NONE of them override close() to clean up resources:\n- lib/features/sheet_music/presentation/cubit/home_cubit.dart\n- lib/features/sheet_music/presentation/cubit/add_sheet_cubit.dart\n- lib/features/sheet_music/presentation/cubit/edit_sheet_cubit.dart\n- lib/features/sheet_music/presentation/cubit/browse_cubit.dart\n- lib/features/sheet_music/presentation/cubit/sheet_detail_cubit.dart\n- lib/features/sheet_music/presentation/cubit/bulk_operations_cubit.dart\n- lib/features/sheet_music/presentation/cubit/ocr_review_cubit.dart\n- lib/features/ocr/presentation/cubit/ocr_scan_cubit.dart (has close() but only logs, doesn't cancel operations)\n- lib/features/search/presentation/cubit/search_cubit.dart\n- lib/features/search/presentation/cubit/tag_cubit.dart\n- lib/features/search/presentation/cubit/tag_suggestion_cubit.dart\n- lib/features/backup/presentation/cubit/backup_cubit.dart\n\nIf any cubit has pending async operations, stream subscriptions, or other resources, they won't be cleaned up.\n\nImpact: Memory leaks, continued operations after widget disposal, potential crashes.\n\nFix: Override close() in each cubit that needs cleanup and cancel pending operations.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:51:01.891491+01:00","updated_at":"2025-12-13T13:07:17.286807+01:00","closed_at":"2025-12-13T13:07:17.286807+01:00"}
{"id":"sheet-scanner-hbh","title":"OCR text parsing logic is overly simplistic and fragile","description":"In lib/features/ocr/presentation/pages/scan_camera_page.dart:207-214, OCR results are parsed using a naive approach:\n\nfinal lines = extractedText.split('\\n').where((line) =\u003e line.trim().isNotEmpty).toList();\nfinal detectedTitle = lines.isNotEmpty ? lines.first : '';\nfinal detectedComposer = lines.length \u003e 1 ? lines[1] : '';\n\nThis assumes:\n1. Title is always the first non-empty line\n2. Composer is always the second non-empty line\n3. No other metadata or formatting\n\nReal sheet music covers have varied layouts, multiple text blocks, and different arrangements. This simple parsing will often extract the wrong text.\n\nImpact: Poor OCR accuracy, users must manually fix most scans.\n\nFix: Implement smarter text parsing:\n- Look for common keywords (Composer:, By:, etc.)\n- Use text size/position heuristics if available from OCR engine\n- Allow users to select which text is title vs composer","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:09.563656+01:00","updated_at":"2025-12-25T16:19:00.412172+01:00","closed_at":"2025-12-25T16:19:00.412172+01:00"}
{"id":"sheet-scanner-hjd","title":"Redesign speech recognition repository tests to avoid async timeouts","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T09:15:18.95004+01:00","updated_at":"2025-12-25T14:24:37.466017+01:00","closed_at":"2025-12-25T14:24:37.466017+01:00"}
{"id":"sheet-scanner-hpe","title":"Create basic app shell and navigation skeleton","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T11:40:09.149519+01:00","updated_at":"2025-12-06T23:18:20.517521+01:00","closed_at":"2025-12-06T23:18:20.517521+01:00"}
{"id":"sheet-scanner-iuh","title":"Critical: Mixed navigation APIs (Navigator vs go_router) causes routing bugs","description":"The codebase mixes legacy Navigator.pop() with go_router's context.pop() throughout multiple files. This causes inconsistent navigation behavior and breaks go_router's declarative routing.\n\nAffected files:\n- lib/main.dart:61 - Uses Navigator.pop(context) in keyboard shortcut handler\n- lib/features/sheet_music/presentation/pages/home_page.dart:112,134,158 - Uses Navigator.pop\n- lib/features/ocr/presentation/pages/scan_camera_page.dart:491,509,514 - Uses Navigator.pop\n- lib/features/sheet_music/presentation/pages/ocr_review_page.dart:142,244,533 - Uses Navigator.pop\n\nImpact: Unpredictable back navigation, breaks browser back button on web, inconsistent app state.\n\nFix: Replace ALL Navigator.pop(context) calls with context.pop() to use go_router consistently.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:50:25.703265+01:00","updated_at":"2025-12-13T13:07:11.284301+01:00","closed_at":"2025-12-13T13:07:11.284301+01:00"}
{"id":"sheet-scanner-j97","title":"P1: FTS5 table not created as virtual table","description":"SheetMusicFtsTable (database.dart:42-50) is defined as regular Drift table, not FTS5 virtual table.\n\nThis means:\n1. Table is created as normal SQLite table, not FTS5\n2. Full-text search queries will fail or be very slow\n3. FTS5 MATCH syntax won't work\n\nDrift requires custom SQL for FTS5 virtual tables. Should use customStatement in onCreate migration:\n\nCREATE VIRTUAL TABLE sheet_music_fts USING fts5(id, title, composer, notes)\n\nAnd set up triggers to auto-sync with main table.\n\nThis is likely why P0 bug sheet-scanner-6ib exists - FTS not properly configured.\n\nFile: lib/core/database/database.dart:42-50","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:53:27.075117+01:00","updated_at":"2025-12-13T13:09:36.946563+01:00","closed_at":"2025-12-13T13:09:36.946563+01:00"}
{"id":"sheet-scanner-jot","title":"P2: No error recovery for empty camera list","description":"When availableCameras() returns empty list (line 50-56), user gets a SnackBar error but page remains stuck showing CircularProgressIndicator.\n\nShould provide:\n1. Clear error UI explaining no camera available\n2. Option to pick from gallery as alternative\n3. Button to go back to previous page\n\nFile: lib/features/ocr/presentation/pages/scan_camera_page.dart:52-56","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:49:50.340322+01:00","updated_at":"2025-12-25T09:09:46.569135+01:00","closed_at":"2025-12-25T09:09:46.569135+01:00"}
{"id":"sheet-scanner-kk5","title":"P1: OCRScanCubit not disposed in ScanCameraPage","description":"ScanCameraPage creates OCRScanCubit directly with getIt\u003c\u003e (line 43) but never calls close() in dispose() method (line 183-186). This creates a memory leak as the cubit's streams and subscriptions won't be cleaned up.\n\nWhen using getIt\u003c\u003e to create a cubit outside of BlocProvider, must manually call cubit.close() in dispose().\n\nFile: lib/features/ocr/presentation/pages/scan_camera_page.dart:28,183","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:49:49.899026+01:00","updated_at":"2025-12-14T10:02:02.424428+01:00","closed_at":"2025-12-14T10:02:02.424428+01:00"}
{"id":"sheet-scanner-l35","title":"P2: Missing mounted check after async setFlashMode in ScanCameraPage","description":"In ScanCameraPage._toggleFlash() method (lines 135-148), after calling the async operation:\n\nawait _cameraController!.setFlashMode(newFlashMode);\n\nThe code immediately calls setState() without checking if the widget is still mounted:\n\nsetState(() {\n  _flashEnabled = !_flashEnabled;\n});\n\nProblem: If the user navigates away while the flash mode is being set (async operation), the widget could be disposed before setState() is called, causing a 'setState() called after dispose()' error.\n\nFix: Add mounted check before setState:\n```dart\nawait _cameraController!.setFlashMode(newFlashMode);\nif (!mounted) return;\nsetState(() {\n  _flashEnabled = !_flashEnabled;\n});\n```\n\nFile: lib/features/ocr/presentation/pages/scan_camera_page.dart:135-148\nImpact: Potential runtime error when rapidly navigating away from scan page","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:01.88104+01:00","updated_at":"2025-12-25T09:10:36.437246+01:00","closed_at":"2025-12-25T09:10:36.437246+01:00"}
{"id":"sheet-scanner-l3k","title":"Phase 1: Foundations - Core entities, database, DI setup","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-06T11:40:06.087641+01:00","updated_at":"2025-12-11T23:06:22.876635+01:00","closed_at":"2025-12-11T23:06:22.876649+01:00"}
{"id":"sheet-scanner-la5","title":"No network error handling despite potential network operations","description":"The codebase has no NetworkFailure or connectivity error handling, but may need network access in the future for:\n- Cloud backup/sync\n- OCR service API calls (if using cloud OCR)\n- Image cloud storage\n- Multi-device sync\n\nCurrent error types in failures.dart:\n- DatabaseFailure\n- FileSystemFailure  \n- OCRFailure\n- SearchFailure\n- BackupFailure\n- ValidationFailure\n- PermissionFailure\n- PlatformFailure\n\nBut no NetworkFailure for network-related errors.\n\nImpact: If network features are added, no standardized way to handle connectivity errors.\n\nFix: \n1. Add NetworkFailure to failures.dart\n2. Add connectivity checking utility\n3. Add offline mode indicators\n4. Plan for graceful degradation when offline","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:39.813343+01:00","updated_at":"2025-12-25T09:12:27.550342+01:00","closed_at":"2025-12-25T09:12:27.550342+01:00"}
{"id":"sheet-scanner-lle","title":"OCR review navigation uses push instead of go/replacement breaking back flow","description":"In lib/features/ocr/presentation/pages/scan_camera_page.dart:217-225, after OCR completes, the code uses context.push('/ocr-review') to navigate. This pushes OCR review onto the stack ON TOP of the scan camera page.\n\nExpected flow: Scan → OCR Review → Save → Home (2 screens back)\nActual flow: Scan → OCR Review → Back button shows Scan camera again → Home (3 screens back)\n\nImpact: Confusing navigation - user must tap back twice, seeing the camera screen again unexpectedly.\n\nFix: Use context.go('/ocr-review') or context.pushReplacement() to replace the scan page.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:51:00.74638+01:00","updated_at":"2025-12-14T09:58:54.271771+01:00","closed_at":"2025-12-14T09:58:54.271771+01:00"}
{"id":"sheet-scanner-my0","title":"Implement browse/inventory list screen (MVP)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T11:40:15.256638+01:00","updated_at":"2025-12-09T22:48:37.341441+01:00","closed_at":"2025-12-09T22:48:37.341441+01:00"}
{"id":"sheet-scanner-ned","title":"P1: OCR review 'Change Image' button does nothing","description":"In OCRReviewPage desktop layout, there's a 'Change Image' button at line 591 with an empty onPressed handler:\n\n```dart\nOutlinedButton(\n  onPressed: isSubmitting ? null : () {},  // Empty handler!\n  child: const Text('Change Image'),\n),\n```\n\nThe button is visible and clickable but does nothing when clicked. This is misleading to users.\n\nExpected behavior: Button should either:\n1. Allow user to pick a new image from file picker/camera\n2. Navigate back to scan page  \n3. Be removed if functionality isn't implemented yet\n\nActual: Button does nothing, poor UX\n\nFile: lib/features/sheet_music/presentation/pages/ocr_review_page.dart:591\nImpact: Confusing UI, button appears broken","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:50:28.505152+01:00","updated_at":"2025-12-14T10:02:02.425937+01:00","closed_at":"2025-12-14T10:02:02.425937+01:00"}
{"id":"sheet-scanner-nh0","title":"Phase 6: Voice dictation for sheet metadata","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T10:01:17.111924+01:00","updated_at":"2025-12-25T08:52:45.634675+01:00","closed_at":"2025-12-25T08:52:45.634675+01:00"}
{"id":"sheet-scanner-ns3","title":"P2: Settings page features not implemented - theme, FTS5 toggle, licenses","description":"The SettingsPage has three features that are marked as TODO and not implemented:\n\n1. Line 41: Theme selection - onChanged callback has TODO comment\n2. Line 82: FTS5 toggle - onChanged callback has TODO comment  \n3. Line 111: License viewer - onPressed callback has TODO comment\n\nCurrent behavior: UI controls are displayed but do nothing when interacted with\n\nThese should either be:\n- Implemented with proper functionality\n- Removed/hidden until ready to implement\n- Disabled with explanatory text\n\nFile: lib/features/settings/presentation/pages/settings_page.dart:41,82,111\nImpact: Confusing UX - buttons/toggles appear functional but don't work","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:52:25.622381+01:00","updated_at":"2025-12-25T14:24:57.119837+01:00","closed_at":"2025-12-25T14:24:57.119837+01:00"}
{"id":"sheet-scanner-o54","title":"No loading states during refresh operations","description":"In multiple pages, refresh operations don't show loading indicators:\n\nExample in lib/features/sheet_music/presentation/pages/home_page.dart:119-120:\nRefreshIndicator(\n  onRefresh: () =\u003e context.read\u003cHomeCubit\u003e().refresh(),\n\nThe HomeCubit.refresh() method (home_cubit.dart:31) calls loadSheetMusic() which emits HomeLoading, but the UI doesn't distinguish between initial loading and refresh loading. During refresh, the HomeLoading state replaces the current data with a loading spinner, making the entire list disappear.\n\nImpact: Poor UX - content flash/flicker during refresh, user loses context.\n\nFix: Add separate RefreshLoading state or use a bool flag in HomeLoaded to show a non-intrusive loading indicator during refresh.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:07.334562+01:00","updated_at":"2025-12-25T16:18:20.027902+01:00","closed_at":"2025-12-25T16:18:20.027902+01:00"}
{"id":"sheet-scanner-o9g","title":"P1: Late final nullable anti-pattern in ScanCameraPage","description":"_cameraController declared as 'late final CameraController?' (scan_camera_page.dart:27) is an anti-pattern. The 'late' modifier with nullable type means if camera initialization fails, any access will throw LateInitializationError instead of safely handling null.\n\nMultiple forced unwraps (_cameraController!) at lines 67, 91, 140, 242 assume non-null but initialization can fail.\n\nShould be either:\n- CameraController? (nullable, no late) with null checks, OR\n- late CameraController (non-nullable) with error boundary\n\nFile: lib/features/ocr/presentation/pages/scan_camera_page.dart:27","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:49:49.692982+01:00","updated_at":"2025-12-14T10:02:02.423673+01:00","closed_at":"2025-12-14T10:02:02.423673+01:00"}
{"id":"sheet-scanner-oaz","title":"P0: Singleton cubits cause stale state across navigations","description":"All cubits are registered as singletons in DI container (injection.dart:233-314), but this causes stale state when navigating between pages.\n\nExample bug flow:\n1. User visits HomePage → HomeCubit loads 10 items\n2. User navigates to BrowsePage  \n3. User adds new item via AddSheetPage → now 11 items in DB\n4. User navigates back to HomePage → SAME HomeCubit instance still has cached 10 items\n\nRoot cause: getIt.registerSingleton means ONE instance is shared across all usages. When BlocProvider.create calls getIt\u003cHomeCubit\u003e(), it gets the same instance with stale cached state.\n\nSolution: Change to registerFactory() for all cubits, OR implement proper state refresh on page resume.\n\nFiles affected:\n- lib/core/di/injection.dart:233-314 (all cubit registrations)\n- All pages using BlocProvider.create with getIt\n\nImpact: Data inconsistency across the app, users won't see latest changes after navigation.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:50:41.189693+01:00","updated_at":"2025-12-13T13:22:28.623938+01:00","closed_at":"2025-12-13T13:22:28.623938+01:00"}
{"id":"sheet-scanner-oge","title":"No camera permission check before initialization","description":"In lib/features/ocr/presentation/pages/scan_camera_page.dart:48-83, the camera is initialized without checking or requesting permissions first. The code imports permission_handler (line 10) but never uses it.\n\nThe permission check only happens after a failure via _ocrScanCubit.onPermissionDenied() (line 231), which is reactive rather than proactive.\n\nImpact: Poor UX - camera initialization fails, then shows permission dialog. Should request permission first.\n\nFix: Add permission check at start of _initializeCamera():\nfinal status = await Permission.camera.status;\nif (!status.isGranted) {\n  final result = await Permission.camera.request();\n  if (!result.isGranted) {\n    _ocrScanCubit.onPermissionDenied();\n    return;\n  }\n}","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:50:58.494286+01:00","updated_at":"2025-12-14T10:02:02.425542+01:00","closed_at":"2025-12-14T10:02:02.425542+01:00"}
{"id":"sheet-scanner-ot9","title":"Settings button in scan camera page has empty handler","description":"In lib/features/ocr/presentation/pages/scan_camera_page.dart:268-278, the Settings IconButton has an empty onPressed handler with just a comment '// Open settings modal'.\n\nThis button is visible to users but does nothing when clicked, creating confusion.\n\nImpact: Poor UX - non-functional UI element, user frustration.\n\nFix: Either implement the settings functionality or remove the button until it's implemented.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:51:28.560527+01:00","updated_at":"2025-12-14T09:57:43.288833+01:00","closed_at":"2025-12-14T09:57:43.288833+01:00"}
{"id":"sheet-scanner-owx","title":"P2: Backup and search repositories have incomplete implementations","description":"Two repository implementation files have TODO comments indicating incomplete implementations:\n\n1. **BackupRepositoryImpl** (lib/features/backup/data/repositories/backup_repository_impl.dart:7)\n   - Comment: 'TODO: Complete implementation with actual backup logic'\n   - File exists but may have stub/incomplete methods\n\n2. **SearchRepositoryImpl** (lib/features/search/data/repositories/search_repository_impl.dart:10)\n   - Comment: 'TODO: Complete implementation with actual search logic'\n   - File exists but may have stub/incomplete methods\n\nThese TODOs suggest the repository layer might not be fully functional. Should verify:\n- What methods are implemented vs stubbed\n- Whether this affects app functionality\n- If tests are passing for incomplete features\n\nRelated TODO in BackupLocalDataSource (line 117):\n- Missing image paths in backup schema: 'TODO: Add image paths once schema includes them'\n\nFiles:\n- lib/features/backup/data/repositories/backup_repository_impl.dart\n- lib/features/search/data/repositories/search_repository_impl.dart  \n- lib/features/backup/data/datasources/backup_local_datasource.dart:117","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:52:34.626551+01:00","updated_at":"2025-12-25T14:23:29.607172+01:00","closed_at":"2025-12-25T14:23:29.607172+01:00"}
{"id":"sheet-scanner-pcl","title":"Build sheet detail view modal","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T11:40:15.302259+01:00","updated_at":"2025-12-09T22:02:21.935177+01:00","closed_at":"2025-12-09T22:02:21.935177+01:00"}
{"id":"sheet-scanner-pp1","title":"Implement bulk operations for desktop (multi-select, batch delete)","description":"","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-06T11:40:21.214207+01:00","updated_at":"2025-12-09T23:52:52.815333+01:00","closed_at":"2025-12-09T23:52:52.815333+01:00"}
{"id":"sheet-scanner-qaq","title":"Implement OCR review/edit screen","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T11:40:12.307823+01:00","updated_at":"2025-12-09T23:00:25.585031+01:00","closed_at":"2025-12-09T23:00:25.585031+01:00"}
{"id":"sheet-scanner-ri1","title":"Build camera capture UI and viewfinder","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T11:40:12.262399+01:00","updated_at":"2025-12-09T23:05:42.204115+01:00","closed_at":"2025-12-09T23:05:42.204115+01:00"}
{"id":"sheet-scanner-spc","title":"Async operations in Cubits don't check if cubit is closed before emitting","description":"In multiple Cubits, async operations emit state changes without checking if the cubit has been closed:\n\nExamples:\n- lib/features/sheet_music/presentation/cubit/add_sheet_cubit.dart:104-111 (submitForm)\n- lib/features/ocr/presentation/cubit/ocr_scan_cubit.dart:79-101 (processOCR)\n- lib/features/sheet_music/presentation/cubit/home_cubit.dart:14-28 (loadSheetMusic)\n\nIf the user navigates away before the async operation completes, the cubit is closed but the operation continues and tries to emit to a closed cubit, causing errors.\n\nImpact: 'Bloc was closed' errors in console, potential crashes.\n\nFix: Check isClosed before emitting:\nif (!isClosed) {\n  emit(newState);\n}","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:51:33.228578+01:00","updated_at":"2025-12-14T09:58:55.391575+01:00","closed_at":"2025-12-14T09:58:55.391575+01:00"}
{"id":"sheet-scanner-ssi","title":"Add const constructors to dictation tests to fix lint warnings","description":"Multiple lint warnings about missing 'const' keyword in test constructors (prefer_const_constructors). These are low priority but should be cleaned up.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T08:55:46.603973+01:00","updated_at":"2025-12-25T09:17:10.522611+01:00","closed_at":"2025-12-25T09:17:10.522611+01:00"}
{"id":"sheet-scanner-t42","title":"Implement repository pattern interfaces","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T11:40:09.061936+01:00","updated_at":"2025-12-06T23:18:20.459447+01:00","closed_at":"2025-12-06T23:18:20.459447+01:00"}
{"id":"sheet-scanner-tcg","title":"P1: Mixed navigation paradigms causing inconsistent behavior","description":"The app uses both GoRouter (declarative navigation with context.push/pop) and Navigator (imperative navigation with Navigator.push/pop) throughout the codebase. This creates inconsistent back button behavior and navigation stack issues.\n\nExamples:\n- SheetDetailPage line 298-311: Uses Navigator.push with MaterialPageRoute\n- EditSheetPage line 127: Uses Navigator.pop\n- OCRReviewPage line 142: Uses Navigator.pop\n- AddSheetPage line 323: Uses context.push (GoRouter)\n\nProblem: When mixing paradigms, the back button behavior becomes unpredictable, navigation stacks can get corrupted, and deep linking breaks.\n\nSolution: Standardize on GoRouter throughout the app. All pages should be registered as routes and use context.push/pop/go consistently.\n\nFiles affected:\n- lib/features/sheet_music/presentation/pages/sheet_detail_page.dart\n- lib/features/sheet_music/presentation/pages/edit_sheet_page.dart  \n- lib/features/sheet_music/presentation/pages/ocr_review_page.dart\n- lib/core/router/app_router.dart (missing route registrations)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:50:12.71713+01:00","updated_at":"2025-12-14T10:02:02.426823+01:00","closed_at":"2025-12-14T10:02:02.426823+01:00"}
{"id":"sheet-scanner-tfj","title":"Phase 5: Backup \u0026 Polish - Export, import, and bulk operations","description":"","notes":"Phase architecture and state management established","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-06T11:40:21.031687+01:00","updated_at":"2025-12-11T23:06:26.100698+01:00","closed_at":"2025-12-11T23:06:26.100704+01:00"}
{"id":"sheet-scanner-tja","title":"P0: Navigation bug - AddSheetPage loses form state when scanning","description":"When user is filling out the AddSheetPage form and clicks 'Scan Sheet Music' button (line 323), they navigate to /scan using context.push('/scan'). After completing the scan flow (scan → OCR review → cancel/back), the user returns to AddSheetPage but ALL their form data (title, composer, notes, tags) is lost.\n\nExpected: Form state should be preserved when returning from scan flow\nActual: All fields are cleared, user must re-enter everything\n\nFile: lib/features/sheet_music/presentation/pages/add_sheet_page.dart:323\nRoot cause: Using context.push() creates a new route which doesn't preserve parent widget state\nImpact: Critical UX issue - users lose work when using scan feature from add sheet page","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:50:04.277647+01:00","updated_at":"2025-12-14T09:58:02.223818+01:00","closed_at":"2025-12-14T09:58:02.223818+01:00"}
{"id":"sheet-scanner-tvn","title":"P1: Silent exception swallowing in addTagToSheetMusic","description":"SheetMusicLocalDataSourceImpl.addTagToSheetMusic (sheet_music_local_datasource.dart:168-177) has empty catch block that swallows ALL exceptions.\n\nProblems:\n1. Catches ALL exceptions, not just unique constraint violations\n2. Database errors (connection lost, disk full) are silently ignored  \n3. No logging makes debugging impossible\n4. Comment says 'Tag association already exists' but ANY error gets same treatment\n\nShould catch specific DriftException and check for unique constraint error code, log other errors.\n\nFile: lib/features/sheet_music/data/datasources/sheet_music_local_datasource.dart:168-177","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:52:35.577681+01:00","updated_at":"2025-12-14T10:04:21.519467+01:00","closed_at":"2025-12-14T10:04:21.519467+01:00"}
{"id":"sheet-scanner-us8","title":"Create domain entities: SheetMusic, Tag, Composer","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T11:40:08.973402+01:00","updated_at":"2025-12-06T23:18:20.395784+01:00","closed_at":"2025-12-06T23:18:20.395784+01:00"}
{"id":"sheet-scanner-va1","title":"No accessibility semantics for critical interactive elements","description":"While the app has lib/core/accessibility/semantic_widgets.dart, it's not being used in critical UI elements:\n\nMissing accessibility:\n1. Scan camera page floating action button (scan_camera_page.dart:409-428) has no semantic label\n2. Grid overlay toggle button (line 383) - users can't tell what it does\n3. Flash toggle button (line 394) - no semantic label for current state\n4. Image preview (ocr_review_page.dart:341-354) - no semantic label describing the captured image\n5. Tag chips have no semantic labels for delete action\n6. Confidence indicators have no screen reader announcements\n\nImpact: App is difficult/impossible to use with screen readers, violates accessibility guidelines.\n\nFix: Add Semantics widgets with proper labels, hints, and state announcements to all interactive elements.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T09:52:38.70644+01:00","updated_at":"2025-12-25T14:24:59.745249+01:00","closed_at":"2025-12-25T14:24:59.745249+01:00"}
{"id":"sheet-scanner-we8","title":"P0: Fix broken integration tests - 16 compilation errors","description":"The integration test file scan_to_save_workflow_test.dart has 16 compilation errors including:\n- Undefined getters on AppDatabase: sheetMusic, tags, sheetMusicTags\n- Undefined method 'or' on Finder type\n- Undefined function 'innerJoin'\n- Use of void result error\n\nThese tests are completely broken and need immediate fixing to restore test coverage for the critical scan-to-save workflow.\n\nFile: integration_test/scan_to_save_workflow_test.dart\nImpact: No integration test coverage for scan workflow","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:49:56.069172+01:00","updated_at":"2025-12-13T11:30:46.594622+01:00","closed_at":"2025-12-13T11:30:46.594622+01:00"}
{"id":"sheet-scanner-ws8","title":"Critical: All Cubits registered as singletons causing state contamination","description":"In lib/core/di/injection.dart:232-316, all Cubits are registered using registerSingleton\u003c\u003e() instead of registerFactory\u003c\u003e(). This means all widget instances share the same Cubit instance, causing state contamination across different screens and preventing proper cleanup. Cubits should be registered as factories so each widget gets a fresh instance with clean state.\n\nExample: HomeCubit at line 244 is registered as singleton, so multiple HomePage instances would share state.\n\nImpact: Data corruption, memory leaks, unpredictable behavior when navigating between screens.\n\nFix: Change all getIt.registerSingleton\u003cXxxCubit\u003e() to getIt.registerFactory\u003cXxxCubit\u003e() for all 12 Cubits (lines 233-316).","status":"closed","priority":0,"issue_type":"bug","assignee":"FuchsiaCastle","created_at":"2025-12-13T09:50:24.572896+01:00","updated_at":"2025-12-13T10:07:33.570171+01:00","closed_at":"2025-12-13T10:07:33.570171+01:00"}
{"id":"sheet-scanner-wur","title":"Critical: OCRScanCubit created but never disposed causing memory leak","description":"In lib/features/ocr/presentation/pages/scan_camera_page.dart:43, OCRScanCubit is created via getIt\u003cOCRScanCubit\u003e() but never disposed when the widget is disposed (line 183-187).\n\nSince Cubits are registered as singletons (separate issue), this is even worse - the cubit persists forever and accumulates state.\n\nImpact: Memory leak, event stream subscriptions not canceled, potential crashes.\n\nFix: Add cubit disposal in dispose():\n@override\nvoid dispose() {\n  WidgetsBinding.instance.removeObserver(this);\n  _cameraController?.dispose();\n  _ocrScanCubit.close(); // Add this\n  super.dispose();\n}","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T09:50:29.19616+01:00","updated_at":"2025-12-13T13:07:17.284955+01:00","closed_at":"2025-12-13T13:07:17.284955+01:00"}
{"id":"sheet-scanner-x5s","title":"Dictation Phase 1: Core Speech Recognition Service","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T10:05:14.296176+01:00","updated_at":"2025-12-14T10:26:20.504205+01:00","closed_at":"2025-12-14T10:26:20.504205+01:00","dependencies":[{"issue_id":"sheet-scanner-x5s","depends_on_id":"sheet-scanner-nh0","type":"blocks","created_at":"2025-12-14T10:05:14.296715+01:00","created_by":"daemon"}]}
{"id":"sheet-scanner-xp6","title":"Fix test compilation errors in speech_recognition_service_test.dart","description":"Adding TestWidgetsFlutterBinding initialization to fix WidgetBindingError","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:55:37.344126+01:00","updated_at":"2025-12-25T18:08:22.907+01:00","closed_at":"2025-12-25T18:08:22.907+01:00"}
{"id":"sheet-scanner-xs9","title":"P2: Missing database indices on foreign keys and search columns","description":"Database tables have no indices defined, causing slow queries as data grows.\n\nMissing indices:\n1. SheetMusicTagsTable.sheetMusicId (foreign key, used in joins)\n2. SheetMusicTagsTable.tagId (foreign key, used in joins)  \n3. SheetMusicTable.title (used in LIKE searches, sorting)\n4. SheetMusicTable.composer (used in LIKE searches, sorting)\n5. SheetMusicTable.createdAt (used for sorting)\n\nWithout indices:\n- All joins require full table scans\n- Tag lookups scan entire sheet_music_tags table\n- Sort by date scans all sheets\n\nDrift supports index definitions. Should add:\n- .index([sheetMusicId]) to SheetMusicTagsTable\n- .index([tagId]) to SheetMusicTagsTable  \n- .index([title, composer, createdAt]) to SheetMusicTable\n\nFile: lib/core/database/database.dart:10-50","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:53:27.233391+01:00","updated_at":"2025-12-25T14:23:39.074118+01:00","closed_at":"2025-12-25T14:23:39.074118+01:00"}
{"id":"sheet-scanner-y0s","title":"P1: SheetDetailPage retry button doesn't work","description":"In SheetDetailPage, when the sheet music fails to load (SheetDetailError state), a 'Retry' button is shown at line 111-122. However, clicking this button shows a SnackBar saying 'Unable to retry - ID unknown' instead of actually retrying.\n\nThe comment on line 113-114 says: 'Cannot retry without knowing the ID - this shouldn't happen as error is shown when loading fails'\n\nProblem: The retry button is enabled but doesn't have access to the sheetMusicId to call loadSheetMusic() again. This is poor UX.\n\nSolutions:\n1. Store the sheetMusicId in the cubit so retry can use it\n2. Disable the retry button if ID is unavailable\n3. Pass the ID through the error state\n\nExpected: Retry button should reload the sheet music\nActual: Retry button shows error message\n\nFile: lib/features/sheet_music/presentation/pages/sheet_detail_page.dart:111-122\nImpact: Users can't recover from temporary load failures","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:50:21.327574+01:00","updated_at":"2025-12-14T10:02:02.426405+01:00","closed_at":"2025-12-14T10:02:02.426405+01:00"}
{"id":"sheet-scanner-z86","title":"Lifecycle handler accesses nullable camera controller without null check","description":"In lib/features/ocr/presentation/pages/scan_camera_page.dart:165-180, didChangeAppLifecycleState() checks _isCameraInitialized but doesn't verify _cameraController is non-null before calling methods on it (lines 170, 172, 178).\n\nIf camera initialization failed but _isCameraInitialized was set to true, or if there's a race condition, this could cause a null pointer exception.\n\nImpact: Potential crash when app goes to background/foreground.\n\nFix: Change to _cameraController?.resumePreview() (optional chaining) or add explicit null checks.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:50:59.570133+01:00","updated_at":"2025-12-14T09:57:43.261743+01:00","closed_at":"2025-12-14T09:57:43.261743+01:00"}
{"id":"sheet-scanner-zro","title":"Global keyboard shortcuts are non-functional dead code","description":"In lib/main.dart:46-68, _handleGlobalShortcut() handles keyboard shortcuts but all cases are either empty or incomplete:\n- saveAction (line 49): Empty - comment says 'will be handled by specific Cubits' but no implementation\n- newItemAction (line 54): Empty - comment says 'navigate or trigger add dialog' but no implementation\n- searchAction (line 57): Empty - comment says 'Open search/filter' but no implementation  \n- escapeAction (line 60-64): Uses legacy Navigator.pop instead of go_router\n\nThis creates the illusion of keyboard support without actual functionality.\n\nImpact: Misleading code, keyboard shortcuts don't work, wasted CPU cycles.\n\nFix: Either implement the shortcuts properly or remove the dead code.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T09:51:03.037215+01:00","updated_at":"2025-12-14T09:57:43.282919+01:00","closed_at":"2025-12-14T09:57:43.282919+01:00"}
